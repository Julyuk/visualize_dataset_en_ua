## EN/UK Sentence Length Visualizer + Metrics

A small console app that:
- loads parallel English/Ukrainian sentences (Hugging Face dataset or local CSV)
- draws histograms for words-per-sentence (EN and UK, plus side-by-side)
- optionally writes a metrics report with descriptive statistics and token stats

### Install (recommended)

Option A — virtual environment:
```bash
cd path/to/project
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
# For the HF dataset used in examples, pin datasets version:
pip install 'datasets==2.20.0'
```

Option B — system Python (if you prefer running without venv):
```bash
pip3 install -r requirements.txt
pip3 install 'datasets==2.20.0'
```

### Usage

Default HF dataset (no flags needed):
```bash
python visualize_word_counts.py
```

Select config/split and save to a folder:
```bash
python visualize_word_counts.py \
  --hf-dataset turuta/Multi30k-uk \
  --config flickr_2016 \
  --split train \
  --max-samples 5000 \
  --output-dir outputs
```

CSV mode (two columns: EN and UK):
```bash
python visualize_word_counts.py \
  --csv path/to/data.csv \
  --en-col english_column_name \
  --uk-col ukrainian_column_name \
  --output-dir outputs
```

Disable diagrams (only make reports):
```bash
python visualize_word_counts.py --report --no-diagrams
```

Extra diagrams are generated by default; no flag is needed.

### Report contents (`--report`)

When `--report` is passed, the following files are created in `--output-dir`:

- `metrics.json` and `metrics.csv` with per-language stats:
  - sentence length: mean, median, std, min, max
  - fraction of empty sentences, fraction of very short sentences (<= `--short-threshold`, default 3)
  - average characters per sentence (with spaces / without spaces)
  - vocabulary size, total tokens, type-token ratio (TTR)
  - Pearson correlation of EN vs UK sentence lengths (`pearson_r_en_uk`)
- `top_tokens_en.csv` and `top_tokens_uk.csv` — Top-N most frequent tokens (`--top-n`, default 30)

### Diagram outputs (enabled by default)

- `en_word_count_hist.png`
- `uk_word_count_hist.png`
- `word_count_hist_side_by_side.png`
- `word_count_hist_overlay.png`
- `word_count_ecdf.png`
- `word_count_box_violin.png`
- `en_vs_uk_scatter.png`

To skip images entirely, add `--no-diagrams`.

### Tips

- For the HF example dataset (`turuta/Multi30k-uk`), `datasets==2.20.0` works reliably.
- Use `--max-samples` for faster runs on large datasets (e.g., `--max-samples 5000`).
- If column names in your CSV are not auto-detected, specify them with `--en-col` and `--uk-col`.
